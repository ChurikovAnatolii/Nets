# Nets

## Теоритическая часть.
- Первое, что нужно сделать это поменять суммарные подсети между office1 и office2.  
Для office1 это будет 192.168.1.0/24 а для office2 192.168.2.0/24. 

- Сеть office 1
- суммарная сеть 192.168.1.0 / 24
- свободных подсетей нет 
- узлов d каждой подсети по 62 
- адрес 1 подсети  192.168.1.1  бродкаст 192.168.1.63
- адрес 2 подсети  192.168.1.64  бродкаст 192.168.1.127
- адрес 3 подсети  192.168.1.128  бродкаст 192.168.1.191
- адрес 4 подсети  192.168.1.192 бродкаст 192.168.1.253
---
- Сеть Office 2
- суммарная сеть 192.168.2.0 / 24
- свобных подсетей нет 
- узлов в первой подсети 126 в остальных по 62
- адрес 1 подсети  192.168.2.0  бродкаст 192.168.2.127
- адрес 2 подсети  192.168.2.128 бродкаст 192.168.2.191
- адрес 3 подсети  192.168.2.192  бродкаст 192.168.2.253
---
- Сеть Central
- Суммарная сеть 192.168.0.0 / 24
- в первой и второй подсети по 14 хостов в третьей 62
- Для сети office hardware изменить подсеть на 192.168.0.16 /28 чтобы не было прмежутка между сетями directors и office hardware и тогда получится следующие подсети: 
- адрес 1 подсети  192.168.0.0  бродкаст 192.168.0.15 
- адрес 2 подсети  192.168.0.16 бродкаст 192.168.0.31 
- адрес 3 подсети  192.168.0.64  бродкаст 192.168.0.127
- Свободные подсети: 
- 192.168.0.32, 192.168.0.48 c 28 маской и 192.168.0.128, 192.168.0.192 с 26 маской.

## Практическая часть.

- В Vagrantfile прописаны маршруты по умолчанию до своих роутеров
- В плейбук nets.yml прописаны статические маршруты для роутеров 
- Для запуска стенда используем команду vagrant up && ansible-playbook nets.yml
- Запустим стенд, зайдем на office1srv и проверим доступность интернета через centralrouter и далее inet router, далее проверим стевоую доступность до всех серверов.

```
[root@office1srv vagrant]# traceroute 192.168.0.2
traceroute to 192.168.0.2 (192.168.0.2), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.907 ms  0.745 ms  0.878 ms
 2  192.168.255.5 (192.168.255.5)  1.955 ms  1.589 ms  1.453 ms
 3  192.168.0.2 (192.168.0.2)  2.316 ms  2.203 ms  2.017 ms
 
[root@office1srv vagrant]# traceroute 192.168.2.2
traceroute to 192.168.2.2 (192.168.2.2), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.871 ms  0.729 ms  0.453 ms
 2  192.168.255.5 (192.168.255.5)  1.439 ms  1.061 ms  0.962 ms
 3  192.168.255.10 (192.168.255.10)  1.795 ms  2.441 ms  2.338 ms
 4  192.168.2.2 (192.168.2.2)  2.512 ms  2.194 ms  2.071 ms

 
[root@office1srv vagrant]# traceroute ya.ru
traceroute to ya.ru (87.250.250.242), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.958 ms  0.596 ms  0.596 ms
 2  192.168.255.5 (192.168.255.5)  1.681 ms  1.618 ms  1.801 ms
 3  192.168.255.1 (192.168.255.1)  2.592 ms  2.484 ms  2.234 ms
 4  * * *
 5  * * *
 6  * * *
 7  * * *
 8  213.79.127.21 (213.79.127.21)  3.961 ms  3.673 ms  3.812 ms
 9  sas-32z5-ae1.yndx.net (87.250.239.201)  16.867 ms sas-32z3-ae1.yndx.net (87.250.239.183)  21.355 ms sas-32z5-ae2.yndx.net (87.250.239.203)  13.118 ms
10  * ya.ru (87.250.250.242)  7.585 ms *
```


